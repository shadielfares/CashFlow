<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="./pics/favicon.ico" />

<title>Cash Flow</title>
    <meta
    name="Cash Flow"
    content="It all starts in an idea."
  />
  <meta
    name="description"
    content="It all starts in an idea."
  />

  <!-- Link -->
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="./pics/apple-touch-icon.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="./pics/favicon-16x16.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="./pics/favicon-32x32.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="192x192"
    href="./pics/android-chrome-192x192.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="512x512"
    href="./pics/android-chrome-512x512.png"
  />
  <!-- Stylesheets -->
    <link rel="stylesheet" href="./src/styles.css" />

  </head>
  <body>
    <div class="cash">
      <tryingnew
        ><center>Cash <span class="flow"> Flow</span></center></tryingnew
      >
    </div>
    <div style="display: flex; justify-content: center; align-items: flex-end; position: absolute; bottom: 1px; width: 100%; flex-wrap: wrap;">

      <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
        <div style="width: 610px; background: #3c4c3cd9; border-radius: 25px; padding: 23px; text-align: left; font-size: 24px; font-family: 'EB Garamond', sans-serif; font-weight: 400; color: #191f19;">
          &emsp; Welcome, would you like a unique business idea?
        </div>
    
        <button class="btn-2" type="submit" id="moving-yes" style="display: inline-block; width: 99px; height: 46px; border-radius: 42px; position: absolute; margin-left: 517px;">
          <div id="button-text"><b>Yes.</b></div>
        </button>
      </div>
    
      <div style="display: flex; justify-content: center; align-items: flex-end; position: absolute; bottom: 10px; width: 100%;">
        <div style="text-align: center; width: 260px; height: 48px; background: linear-gradient(155deg, #1b281c 40%, #66765d 100%); border-radius: 50px; z-index: 9998;">
          <div style="padding-top: 15px; font-size: 17px; font-family: EB Garamond; font-weight: 400; word-wrap: break-word; color: rgb(154, 175, 142); text-align: center; z-index: 9998;">
            <a href="https://uofthacks.com/" style="color: inherit; text-decoration: none;"> Team Flow UofT Hacks </a> Â© 2024
          </div>
        </div>
      </div>
    </div>
    
    <!-- Actual Animation -->
    <canvas id="canvas3d"></canvas>
    <a class="logo" href="https://spline.design"></a>
    
    <!-- Import maps polyfill -->
    <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
    <script type="importmap">
      {
        "imports": {
          "@splinetool/runtime": "https://unpkg.com/@splinetool/runtime@1.0.38/build/runtime.js"
        }
      }
    </script>
    
    <script>
      document.getElementById('moving-yes').addEventListener('click', function() {
        var movingElement = document.getElementById('moving-yes');
        var buttonText = document.getElementById('button-text');
        
        // Start animation sequence
        movingElement.style.visibility = 'visible';
        movingElement.style.pointerEvents = 'none';
        movingElement.style.transition = 'all 2.5s ease-in-out';
    
        // Move the element permanently to the left by 256px
        movingElement.style.transform = 'translateX(-256px)';
        movingElement.style.background = '#263826';
    
        // Step 1: Change width, height, border-radius, opacity
        setTimeout(function() {
          movingElement.style.width = '656px';
          movingElement.style.height = '77.2px';
          movingElement.style.borderRadius = '25px';
          movingElement.style.opacity = '1';
        }, 2250);
    
        // Step 2: Expand height to 570px
        setTimeout(function() {
          movingElement.style.height = '570px';
        }, 4450);
    
        // Step 3: Add border after 1 second
        setTimeout(function() {
          movingElement.style.border = '6px solid #181f18';
        }, 5450);
    
        // Randomize the file selection and update the button text
        function getRandomInt(min, max) {
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }
    
        function selectRandomChunk() {
          const chunkNumber = getRandomInt(1, 12); // Random number between 1 and 12
          const chunkFile = `./ideachunks/chunk_${chunkNumber}.csv`;
          return chunkFile;
        }
    
        async function selectRandomLine() {
          try {
            const chunkFile = selectRandomChunk();
    
            // Fetch the CSV file
            const response = await fetch(chunkFile);
            if (!response.ok) throw new Error('File not found');
            
            const data = await response.text();
    
            // Split content into lines
            const lines = data.split('\n');
            const totalLines = lines.length;
    
            // Select a random line
            const randomLineNumber = getRandomInt(1, totalLines);
            const selectedLine = lines[randomLineNumber - 1];
    
            // Update button text after all animations
            setTimeout(function() {
              buttonText.innerHTML = selectedLine;
              buttonText.style.color = '#ff5959';
              buttonText.style.fontSize = '18px';
              buttonText.style.padding = '20px';
              buttonText.style.textAlign = 'center';
            }, 7450); // After animations are complete
          } catch (error) {
            console.error(error);
            buttonText.innerHTML = "Error fetching data";
          }
        }
    
        // Call the selectRandomLine function
        selectRandomLine();
      });
    </script>
    
    <script type="module" src="./src/main.js"></script>

  </body>
</html>
